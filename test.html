<h1>remark-shiki</h1>
<p>shiki with semantic highlighting support</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span style="color: #0000FF">#include </span><span style="color: #A31515">&#x3C;cstdio></span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">N</span><span style="color: #000000"> = </span><span style="color: #098658">100005</span><span style="color: #000000">;</span>
<span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">rt</span><span style="color: #000000">, </span><span style="color: #001080">tot</span><span style="color: #000000">, </span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">N</span><span style="color: #000000">], </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">N</span><span style="color: #000000">][</span><span style="color: #098658">2</span><span style="color: #000000">], </span><span style="color: #001080">val</span><span style="color: #000000">[</span><span style="color: #001080">N</span><span style="color: #000000">], </span><span style="color: #001080">cnt</span><span style="color: #000000">[</span><span style="color: #001080">N</span><span style="color: #000000">], </span><span style="color: #001080">sz</span><span style="color: #000000">[</span><span style="color: #001080">N</span><span style="color: #000000">];</span>
<span style="color: #0000FF">struct</span><span style="color: #000000"> </span><span style="color: #267f99">Splay</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #0000FF">void</span><span style="color: #000000"> </span><span style="color: #795E26">maintain</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">x</span><span style="color: #000000">) { </span><span style="color: #001080">sz</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">] = </span><span style="color: #001080">sz</span><span style="color: #000000">[</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">]] + </span><span style="color: #001080">sz</span><span style="color: #000000">[</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">]] + </span><span style="color: #001080">cnt</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">]; }</span>
<span style="color: #000000">  </span><span style="color: #0000FF">bool</span><span style="color: #000000"> </span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">x</span><span style="color: #000000">) { </span><span style="color: #0000FF">return</span><span style="color: #000000"> </span><span style="color: #001080">x</span><span style="color: #000000"> == </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">]][</span><span style="color: #098658">1</span><span style="color: #000000">]; }</span>
<span style="color: #000000">  </span><span style="color: #0000FF">void</span><span style="color: #000000"> </span><span style="color: #795E26">clear</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">x</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">] = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">] = </span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">] = </span><span style="color: #001080">val</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">] = </span><span style="color: #001080">sz</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">] = </span><span style="color: #001080">cnt</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">] = </span><span style="color: #098658">0</span><span style="color: #000000">;</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">  </span><span style="color: #0000FF">void</span><span style="color: #000000"> </span><span style="color: #795E26">rotate</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">x</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">y</span><span style="color: #000000"> = </span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">], </span><span style="color: #001080">z</span><span style="color: #000000"> = </span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">y</span><span style="color: #000000">], </span><span style="color: #001080">chk</span><span style="color: #000000"> = </span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">y</span><span style="color: #000000">][</span><span style="color: #001080">chk</span><span style="color: #000000">] = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">][</span><span style="color: #001080">chk</span><span style="color: #000000"> ^ </span><span style="color: #098658">1</span><span style="color: #000000">];</span>
<span style="color: #000000">    </span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">][</span><span style="color: #001080">chk</span><span style="color: #000000"> ^ </span><span style="color: #098658">1</span><span style="color: #000000">]] = </span><span style="color: #001080">y</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">][</span><span style="color: #001080">chk</span><span style="color: #000000"> ^ </span><span style="color: #098658">1</span><span style="color: #000000">] = </span><span style="color: #001080">y</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">y</span><span style="color: #000000">] = </span><span style="color: #001080">x</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">] = </span><span style="color: #001080">z</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">if</span><span style="color: #000000"> (</span><span style="color: #001080">z</span><span style="color: #000000">) </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">z</span><span style="color: #000000">][</span><span style="color: #001080">y</span><span style="color: #000000"> == </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">z</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">]] = </span><span style="color: #001080">x</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #795E26">maintain</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #795E26">maintain</span><span style="color: #000000">(</span><span style="color: #001080">y</span><span style="color: #000000">);</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">  </span><span style="color: #0000FF">void</span><span style="color: #000000"> </span><span style="color: #795E26">splay</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">x</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">for</span><span style="color: #000000"> (</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">f</span><span style="color: #000000"> = </span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">]; </span><span style="color: #001080">f</span><span style="color: #000000"> = </span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">], </span><span style="color: #001080">f</span><span style="color: #000000">; </span><span style="color: #795E26">rotate</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">))</span>
<span style="color: #000000">      </span><span style="color: #0000FF">if</span><span style="color: #000000"> (</span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">f</span><span style="color: #000000">]) </span><span style="color: #795E26">rotate</span><span style="color: #000000">(</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">) == </span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #001080">f</span><span style="color: #000000">) ? </span><span style="color: #001080">f</span><span style="color: #000000"> : </span><span style="color: #001080">x</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">rt</span><span style="color: #000000"> = </span><span style="color: #001080">x</span><span style="color: #000000">;</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">  </span><span style="color: #0000FF">void</span><span style="color: #000000"> </span><span style="color: #795E26">ins</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">k</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">if</span><span style="color: #000000"> (!</span><span style="color: #001080">rt</span><span style="color: #000000">) {</span>
<span style="color: #000000">      </span><span style="color: #001080">val</span><span style="color: #000000">[++</span><span style="color: #001080">tot</span><span style="color: #000000">] = </span><span style="color: #001080">k</span><span style="color: #000000">;</span>
<span style="color: #000000">      </span><span style="color: #001080">cnt</span><span style="color: #000000">[</span><span style="color: #001080">tot</span><span style="color: #000000">]++;</span>
<span style="color: #000000">      </span><span style="color: #001080">rt</span><span style="color: #000000"> = </span><span style="color: #001080">tot</span><span style="color: #000000">;</span>
<span style="color: #000000">      </span><span style="color: #795E26">maintain</span><span style="color: #000000">(</span><span style="color: #001080">rt</span><span style="color: #000000">);</span>
<span style="color: #000000">      </span><span style="color: #0000FF">return</span><span style="color: #000000">;</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">    </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">rt</span><span style="color: #000000">, </span><span style="color: #001080">f</span><span style="color: #000000"> = </span><span style="color: #098658">0</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">while</span><span style="color: #000000"> (</span><span style="color: #098658">1</span><span style="color: #000000">) {</span>
<span style="color: #000000">      </span><span style="color: #0000FF">if</span><span style="color: #000000"> (</span><span style="color: #001080">val</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">] == </span><span style="color: #001080">k</span><span style="color: #000000">) {</span>
<span style="color: #000000">        </span><span style="color: #001080">cnt</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">]++;</span>
<span style="color: #000000">        </span><span style="color: #795E26">maintain</span><span style="color: #000000">(</span><span style="color: #001080">cnr</span><span style="color: #000000">);</span>
<span style="color: #000000">        </span><span style="color: #795E26">maintain</span><span style="color: #000000">(</span><span style="color: #001080">f</span><span style="color: #000000">);</span>
<span style="color: #000000">        </span><span style="color: #795E26">splay</span><span style="color: #000000">(</span><span style="color: #001080">cnr</span><span style="color: #000000">);</span>
<span style="color: #000000">        </span><span style="color: #0000FF">break</span><span style="color: #000000">;</span>
<span style="color: #000000">      }</span>
<span style="color: #000000">      </span><span style="color: #001080">f</span><span style="color: #000000"> = </span><span style="color: #001080">cnr</span><span style="color: #000000">;</span>
<span style="color: #000000">      </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #001080">val</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">] &#x3C; </span><span style="color: #001080">k</span><span style="color: #000000">];</span>
<span style="color: #000000">      </span><span style="color: #0000FF">if</span><span style="color: #000000"> (!</span><span style="color: #001080">cnr</span><span style="color: #000000">) {</span>
<span style="color: #000000">        </span><span style="color: #001080">val</span><span style="color: #000000">[++</span><span style="color: #001080">tot</span><span style="color: #000000">] = </span><span style="color: #001080">k</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #001080">cnt</span><span style="color: #000000">[</span><span style="color: #001080">tot</span><span style="color: #000000">]++;</span>
<span style="color: #000000">        </span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">tot</span><span style="color: #000000">] = </span><span style="color: #001080">f</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">f</span><span style="color: #000000">][</span><span style="color: #001080">val</span><span style="color: #000000">[</span><span style="color: #001080">f</span><span style="color: #000000">] &#x3C; </span><span style="color: #001080">k</span><span style="color: #000000">] = </span><span style="color: #001080">tot</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #795E26">maintain</span><span style="color: #000000">(</span><span style="color: #001080">tot</span><span style="color: #000000">);</span>
<span style="color: #000000">        </span><span style="color: #795E26">maintain</span><span style="color: #000000">(</span><span style="color: #001080">f</span><span style="color: #000000">);</span>
<span style="color: #000000">        </span><span style="color: #795E26">splay</span><span style="color: #000000">(</span><span style="color: #001080">tot</span><span style="color: #000000">);</span>
<span style="color: #000000">        </span><span style="color: #0000FF">break</span><span style="color: #000000">;</span>
<span style="color: #000000">      }</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">  </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #795E26">rk</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">k</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">res</span><span style="color: #000000"> = </span><span style="color: #098658">0</span><span style="color: #000000">, </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">rt</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">while</span><span style="color: #000000"> (</span><span style="color: #098658">1</span><span style="color: #000000">) {</span>
<span style="color: #000000">      </span><span style="color: #0000FF">if</span><span style="color: #000000"> (</span><span style="color: #001080">k</span><span style="color: #000000"> &#x3C; </span><span style="color: #001080">val</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">]) {</span>
<span style="color: #000000">        </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">];</span>
<span style="color: #000000">      } </span><span style="color: #0000FF">else</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #001080">res</span><span style="color: #000000"> += </span><span style="color: #001080">sz</span><span style="color: #000000">[</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">]];</span>
<span style="color: #000000">        </span><span style="color: #0000FF">if</span><span style="color: #000000"> (</span><span style="color: #001080">k</span><span style="color: #000000"> == </span><span style="color: #001080">val</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">]) {</span>
<span style="color: #000000">          </span><span style="color: #795E26">splay</span><span style="color: #000000">(</span><span style="color: #001080">cnr</span><span style="color: #000000">);</span>
<span style="color: #000000">          </span><span style="color: #0000FF">return</span><span style="color: #000000"> </span><span style="color: #001080">res</span><span style="color: #000000"> + </span><span style="color: #098658">1</span><span style="color: #000000">;</span>
<span style="color: #000000">        }</span>
<span style="color: #000000">        </span><span style="color: #001080">res</span><span style="color: #000000"> += </span><span style="color: #001080">cnt</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">];</span>
<span style="color: #000000">        </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">];</span>
<span style="color: #000000">      }</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">  </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #795E26">kth</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">k</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">rt</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">while</span><span style="color: #000000"> (</span><span style="color: #098658">1</span><span style="color: #000000">) {</span>
<span style="color: #000000">      </span><span style="color: #0000FF">if</span><span style="color: #000000"> (</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">] &#x26;&#x26; </span><span style="color: #001080">k</span><span style="color: #000000"> &#x3C;= </span><span style="color: #001080">sz</span><span style="color: #000000">[</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">]]) {</span>
<span style="color: #000000">        </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">];</span>
<span style="color: #000000">      } </span><span style="color: #0000FF">else</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #001080">k</span><span style="color: #000000"> -= </span><span style="color: #001080">cnt</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">] + </span><span style="color: #001080">sz</span><span style="color: #000000">[</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">]];</span>
<span style="color: #000000">        </span><span style="color: #0000FF">if</span><span style="color: #000000"> (</span><span style="color: #001080">k</span><span style="color: #000000"> &#x3C;= </span><span style="color: #098658">0</span><span style="color: #000000">) {</span>
<span style="color: #000000">          </span><span style="color: #795E26">splay</span><span style="color: #000000">(</span><span style="color: #001080">cnr</span><span style="color: #000000">);</span>
<span style="color: #000000">          </span><span style="color: #0000FF">return</span><span style="color: #000000"> </span><span style="color: #001080">val</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">];</span>
<span style="color: #000000">        }</span>
<span style="color: #000000">        </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">];</span>
<span style="color: #000000">      }</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">  </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #795E26">pre</span><span style="color: #000000">() {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">rt</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">];</span>
<span style="color: #000000">    </span><span style="color: #0000FF">while</span><span style="color: #000000"> (</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">]) </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">];</span>
<span style="color: #000000">    </span><span style="color: #795E26">splay</span><span style="color: #000000">(</span><span style="color: #001080">cnr</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #0000FF">return</span><span style="color: #000000"> </span><span style="color: #001080">cnr</span><span style="color: #000000">;</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">  </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #795E26">nxt</span><span style="color: #000000">() {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">rt</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">];</span>
<span style="color: #000000">    </span><span style="color: #0000FF">while</span><span style="color: #000000"> (</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">]) </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">];</span>
<span style="color: #000000">    </span><span style="color: #795E26">splay</span><span style="color: #000000">(</span><span style="color: #001080">cnr</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #0000FF">return</span><span style="color: #000000"> </span><span style="color: #001080">cnr</span><span style="color: #000000">;</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">  </span><span style="color: #0000FF">void</span><span style="color: #000000"> </span><span style="color: #795E26">del</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">k</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #795E26">rk</span><span style="color: #000000">(</span><span style="color: #001080">k</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #0000FF">if</span><span style="color: #000000"> (</span><span style="color: #001080">cnt</span><span style="color: #000000">[</span><span style="color: #001080">rt</span><span style="color: #000000">] > </span><span style="color: #098658">1</span><span style="color: #000000">) {</span>
<span style="color: #000000">      </span><span style="color: #001080">cnt</span><span style="color: #000000">[</span><span style="color: #001080">rt</span><span style="color: #000000">]--;</span>
<span style="color: #000000">      </span><span style="color: #795E26">maintain</span><span style="color: #000000">(</span><span style="color: #001080">rt</span><span style="color: #000000">);</span>
<span style="color: #000000">      </span><span style="color: #0000FF">return</span><span style="color: #000000">;</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">    </span><span style="color: #0000FF">if</span><span style="color: #000000"> (!</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">rt</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">] &#x26;&#x26; !</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">rt</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">]) {</span>
<span style="color: #000000">      </span><span style="color: #795E26">clear</span><span style="color: #000000">(</span><span style="color: #001080">rt</span><span style="color: #000000">);</span>
<span style="color: #000000">      </span><span style="color: #001080">rt</span><span style="color: #000000"> = </span><span style="color: #098658">0</span><span style="color: #000000">;</span>
<span style="color: #000000">      </span><span style="color: #0000FF">return</span><span style="color: #000000">;</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">    </span><span style="color: #0000FF">if</span><span style="color: #000000"> (!</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">rt</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">]) {</span>
<span style="color: #000000">      </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">rt</span><span style="color: #000000">;</span>
<span style="color: #000000">      </span><span style="color: #001080">rt</span><span style="color: #000000"> = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">rt</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">];</span>
<span style="color: #000000">      </span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">rt</span><span style="color: #000000">] = </span><span style="color: #098658">0</span><span style="color: #000000">;</span>
<span style="color: #000000">      </span><span style="color: #795E26">clear</span><span style="color: #000000">(</span><span style="color: #001080">cnr</span><span style="color: #000000">);</span>
<span style="color: #000000">      </span><span style="color: #0000FF">return</span><span style="color: #000000">;</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">    </span><span style="color: #0000FF">if</span><span style="color: #000000"> (!</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">rt</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">]) {</span>
<span style="color: #000000">      </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">rt</span><span style="color: #000000">;</span>
<span style="color: #000000">      </span><span style="color: #001080">rt</span><span style="color: #000000"> = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">rt</span><span style="color: #000000">][</span><span style="color: #098658">0</span><span style="color: #000000">];</span>
<span style="color: #000000">      </span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">rt</span><span style="color: #000000">] = </span><span style="color: #098658">0</span><span style="color: #000000">;</span>
<span style="color: #000000">      </span><span style="color: #795E26">clear</span><span style="color: #000000">(</span><span style="color: #001080">cnr</span><span style="color: #000000">);</span>
<span style="color: #000000">      </span><span style="color: #0000FF">return</span><span style="color: #000000">;</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">    </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">cnr</span><span style="color: #000000"> = </span><span style="color: #001080">rt</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">x</span><span style="color: #000000"> = </span><span style="color: #795E26">pre</span><span style="color: #000000">();</span>
<span style="color: #000000">    </span><span style="color: #795E26">splay</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">fa</span><span style="color: #000000">[</span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">]] = </span><span style="color: #001080">x</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">x</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">] = </span><span style="color: #001080">ch</span><span style="color: #000000">[</span><span style="color: #001080">cnr</span><span style="color: #000000">][</span><span style="color: #098658">1</span><span style="color: #000000">];</span>
<span style="color: #000000">    </span><span style="color: #795E26">clear</span><span style="color: #000000">(</span><span style="color: #001080">cnr</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #795E26">maintain</span><span style="color: #000000">(</span><span style="color: #001080">rt</span><span style="color: #000000">);</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">} </span><span style="color: #001080">tree</span><span style="color: #000000">;</span>

<span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #795E26">main</span><span style="color: #000000">() {</span>
<span style="color: #000000">  </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">n</span><span style="color: #000000">, </span><span style="color: #001080">opt</span><span style="color: #000000">, </span><span style="color: #001080">x</span><span style="color: #000000">;</span>
<span style="color: #000000">  </span><span style="color: #0000FF">for</span><span style="color: #000000"> (</span><span style="color: #795E26">scanf</span><span style="color: #000000">(</span><span style="color: #A31515">"%d"</span><span style="color: #000000">, &#x26;</span><span style="color: #001080">n</span><span style="color: #000000">); </span><span style="color: #001080">n</span><span style="color: #000000">; --</span><span style="color: #001080">n</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #795E26">scanf</span><span style="color: #000000">(</span><span style="color: #A31515">"%d%d"</span><span style="color: #000000">, &#x26;</span><span style="color: #001080">opt</span><span style="color: #000000">, &#x26;</span><span style="color: #001080">x</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #0000FF">if</span><span style="color: #000000"> (</span><span style="color: #001080">opt</span><span style="color: #000000"> == </span><span style="color: #098658">1</span><span style="color: #000000">)</span>
<span style="color: #000000">      </span><span style="color: #001080">tree</span><span style="color: #000000">.</span><span style="color: #795E26">ins</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #0000FF">else</span><span style="color: #000000"> </span><span style="color: #0000FF">if</span><span style="color: #000000"> (</span><span style="color: #001080">opt</span><span style="color: #000000"> == </span><span style="color: #098658">2</span><span style="color: #000000">)</span>
<span style="color: #000000">      </span><span style="color: #001080">tree</span><span style="color: #000000">.</span><span style="color: #795E26">del</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #0000FF">else</span><span style="color: #000000"> </span><span style="color: #0000FF">if</span><span style="color: #000000"> (</span><span style="color: #001080">opt</span><span style="color: #000000"> == </span><span style="color: #098658">3</span><span style="color: #000000">)</span>
<span style="color: #000000">      </span><span style="color: #795E26">printf</span><span style="color: #000000">(</span><span style="color: #A31515">"%d</span><span style="color: #FF0000">\n</span><span style="color: #A31515">"</span><span style="color: #000000">, </span><span style="color: #001080">tree</span><span style="color: #000000">.</span><span style="color: #795E26">rk</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">));</span>
<span style="color: #000000">    </span><span style="color: #0000FF">else</span><span style="color: #000000"> </span><span style="color: #0000FF">if</span><span style="color: #000000"> (</span><span style="color: #001080">opt</span><span style="color: #000000"> == </span><span style="color: #098658">4</span><span style="color: #000000">)</span>
<span style="color: #000000">      </span><span style="color: #795E26">printf</span><span style="color: #000000">(</span><span style="color: #A31515">"%d</span><span style="color: #FF0000">\n</span><span style="color: #A31515">"</span><span style="color: #000000">, </span><span style="color: #001080">tree</span><span style="color: #000000">.</span><span style="color: #795E26">kth</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">));</span>
<span style="color: #000000">    </span><span style="color: #0000FF">else</span><span style="color: #000000"> </span><span style="color: #0000FF">if</span><span style="color: #000000"> (</span><span style="color: #001080">opt</span><span style="color: #000000"> == </span><span style="color: #098658">5</span><span style="color: #000000">)</span>
<span style="color: #000000">      </span><span style="color: #001080">tree</span><span style="color: #000000">.</span><span style="color: #795E26">ins</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">), </span><span style="color: #795E26">printf</span><span style="color: #000000">(</span><span style="color: #A31515">"%d</span><span style="color: #FF0000">\n</span><span style="color: #A31515">"</span><span style="color: #000000">, </span><span style="color: #001080">val</span><span style="color: #000000">[</span><span style="color: #001080">tree</span><span style="color: #000000">.</span><span style="color: #795E26">pre</span><span style="color: #000000">()]), </span><span style="color: #001080">tree</span><span style="color: #000000">.</span><span style="color: #795E26">del</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #0000FF">else</span>
<span style="color: #000000">      </span><span style="color: #001080">tree</span><span style="color: #000000">.</span><span style="color: #795E26">ins</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">), </span><span style="color: #795E26">printf</span><span style="color: #000000">(</span><span style="color: #A31515">"%d</span><span style="color: #FF0000">\n</span><span style="color: #A31515">"</span><span style="color: #000000">, </span><span style="color: #001080">val</span><span style="color: #000000">[</span><span style="color: #001080">tree</span><span style="color: #000000">.</span><span style="color: #795E26">nxt</span><span style="color: #000000">()]), </span><span style="color: #001080">tree</span><span style="color: #000000">.</span><span style="color: #795E26">del</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">);</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">  </span><span style="color: #0000FF">return</span><span style="color: #000000"> </span><span style="color: #098658">0</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span></code></pre>
<pre class="shiki" style="background-color: #FFFFFF"><code><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #001080">languages</span><span style="color: #000000"> = [</span>
<span style="color: #000000">  ...</span><span style="color: #001080">commonLangIds</span><span style="color: #000000">,</span>
<span style="color: #000000">  ...</span><span style="color: #001080">commonLangAliases</span><span style="color: #000000">,</span>
<span style="color: #000000">  ...</span><span style="color: #001080">otherLangIds</span>
<span style="color: #000000">]</span></code></pre>
<p>qwqqwq</p>
